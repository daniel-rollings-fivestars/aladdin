#!/usr/bin/env bash
set -eu -o pipefail

function env() {
    echo 'function aladdin(){
        PATH="'$ALADDIN_DIR'/.venv/bin:'$PATH'";
        '$ALADDIN_DIR'/.venv/bin/aladdin "$@";
    }'
}

function usage {
    cat <<-EOF
		Run this command to configure your shell:
		eval \$($ALADDIN_DIR/aladdin.sh env)
	EOF
}

if [[ $# -eq 0 ]]; then
    env
elif [[ "$1" == "-h" ]]; then
    usage
else
    echo >&2 "aladdin: error: unrecognized arguments: $1"
    exit 1
fi
